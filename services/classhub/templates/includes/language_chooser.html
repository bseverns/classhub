{% load i18n %}
<form class="language-chooser" method="post" action="/i18n/setlang/">
    {% csrf_token %}
    <input type="hidden" name="next" value="{{ request.path }}" />
    <label for="language-select" class="sr-only">{% trans "Language" %}</label>
    <select id="language-select" name="language">
        {% get_current_language as CURRENT_LANGUAGE %}
        {% get_available_languages as AVAILABLE_LANGUAGES %}
        {% for lang_code, lang_name in AVAILABLE_LANGUAGES %}
        <option value="{{ lang_code }}" {% if lang_code == CURRENT_LANGUAGE %}selected{% endif %}>{{ lang_name }}</option>
        {% endfor %}
    </select>
    <button type="submit" class="lang-submit-btn">{% trans "Switch" %}</button>
</form>
